Error in working memory cleanup: ChromaDB collection not initialized
Empty text provided for embedding
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
Empty text provided for embedding
Number of requested results 5 is greater than number of elements in index 1, updating n_results = 1
Empty text provided for embedding
[ChromaDB] Query failed: Number of requested results 0, cannot be negative, or zero.
Number of requested results 10000 is greater than number of elements in index 67, updating n_results = 67
C:\roampal-core\roampal\backend\modules\memory\chromadb_adapter.py:623: RuntimeWarning: coroutine 'ChromaDBAdapter.cleanup' was never awaited
  pass  # Ignore errors in destructor
RuntimeWarning: Enable tracemalloc to get the object allocation traceback

================================================================================
EDGE CASE STRESS TEST SUITE
================================================================================

[SECTION 1] Embedding Edge Cases
----------------------------------------
  [PASS] Empty string storage
  [PASS] Whitespace-only string
  [PASS] Very long text (25KB)
  [PASS] Single character

[SECTION 2] Unicode Edge Cases
----------------------------------------
  [PASS] Emoji-heavy text
  [PASS] RTL text (Arabic/Hebrew)
  [PASS] Zero-width characters
  [PASS] Mixed scripts (Latin/CJK/Cyrillic)

[SECTION 3] Injection Attempts
----------------------------------------
  [FAIL] SQL injection in text
        Stored as literal
  [PASS] Prompt injection stored literally
  [PASS] Path traversal in tags
  [PASS] JSON in text content

[SECTION 4] Boundary Conditions
----------------------------------------
  [PASS] Importance boundary handling
  [PASS] Confidence boundary handling
  [PASS] Empty tags list
  [PASS] 100 tags

[SECTION 5] Malformed Input
----------------------------------------
  [PASS] None in tags list
  [PASS] Numeric tags coercion

[SECTION 6] Concurrent Operations
----------------------------------------
  [PASS] 20 concurrent stores
  [PASS] Store while searching

[SECTION 7] Search Edge Cases
----------------------------------------
  [PASS] Search with no matches
  [PASS] Special char queries
  [PASS] Search limit=0
  [PASS] Search limit=10000

================================================================================
FINAL RESULTS
================================================================================
Passed: 23/24
Failed: 1/24

Failed tests:
  - SQL injection in text: Stored as literal

================================================================================
FAIL - 1 edge cases need attention
================================================================================

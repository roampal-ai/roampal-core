Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
C:\roampal-core\roampal\backend\modules\memory\chromadb_adapter.py:623: RuntimeWarning: coroutine 'ChromaDBAdapter.cleanup' was never awaited
  pass  # Ignore errors in destructor
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).
Error in working memory cleanup: ChromaDB collection not initialized
ChromaDBAdapter auto-initializing collection on demand (explicit .initialize() was not called).

================================================================================
SEARCH QUALITY DIAGNOSTIC SUITE
================================================================================

This suite measures search quality across multiple dimensions.
These aren't pass/fail - they establish baselines for improvement.

--------------------------------------------------------------------------------
TEST 1: Synonym Understanding
--------------------------------------------------------------------------------
Scenario: Store facts with one word, query with synonyms
  [STORE] Stored 5 facts
  [OK] car query for 'automobile'
  [OK] dog query for 'canine'
  [OK] lives query for 'resides'
  [OK] job query for 'employed'
  [OK] wife query for 'spouse'

  Synonym understanding: 5/5 (100%)

--------------------------------------------------------------------------------
TEST 2: Typo Tolerance
--------------------------------------------------------------------------------
Scenario: Query with common typos/misspellings
  [STORE] Stored 3 facts with correct spelling
  [OK] Microsft -> Microsoft
  [OK] Cheescake -> Cheesecake
  [OK] Masachusetts -> Massachusetts
  [OK] sofware -> software
  [OK] restarant -> restaurant

  Typo tolerance: 5/5 (100%)

--------------------------------------------------------------------------------
TEST 3: Acronym Expansion
--------------------------------------------------------------------------------
Scenario: Query with acronyms, facts have full names (and vice versa)
  [STORE] Stored 4 facts (mix of full names and acronyms)
  [OK] NYC -> New York City
  [OK] NASA -> National Aeronautics...
  [OK] API -> Application Programming Interface
  [OK] Full name -> UCLA

  Acronym understanding: 4/4 (100%)

--------------------------------------------------------------------------------
TEST 4: Result Diversity
--------------------------------------------------------------------------------
Scenario: Multiple facts about same topic - search should show variety
  [STORE] Stored 8 facts about Max the dog

  Results returned: 5
  Unique aspects covered: 5
  Aspects: Counter({'name': 1, 'breed': 1, 'food': 1, 'living': 1, 'health': 1})
  Diversity score: 100%

--------------------------------------------------------------------------------
TEST 5: Recency vs Relevance Balance
--------------------------------------------------------------------------------
Scenario: Old highly-relevant fact vs new somewhat-relevant fact
  [OLD] Stored 1 old, highly-relevant fact (q=0.90)
  [NEW] Stored 10 new, less-relevant facts (q=0.25 each)

  Top result: User's favorite programming language is Python, which they'v...
  Highly-relevant old fact ranked #1: YES
  Python fact rank: 1
  Relevance score: 100%

--------------------------------------------------------------------------------
TEST 6: Partial Match Quality
--------------------------------------------------------------------------------
Scenario: Query contains only part of the stored information
  [STORE] Stored 3 detailed facts
  [OK] First + Last name
  [OK] Partial phone
  [OK] Email prefix
  [OK] Birth city
  [OK] Email domain

  Partial match accuracy: 5/5 (100%)

================================================================================
SEARCH QUALITY SCORECARD
================================================================================
  Synonym understanding     [####################] 100%
  Typo tolerance            [####################] 100%
  Acronym expansion         [####################] 100%
  Result diversity          [####################] 100%
  Recency vs relevance      [####################] 100%
  Partial match quality     [####################] 100%

  Average Search Quality Score: 100%

--------------------------------------------------------------------------------
IMPROVEMENT OPPORTUNITIES:
--------------------------------------------------------------------------------

================================================================================
BASELINE ESTABLISHED - Average: 100%
Search quality is acceptable, but improvements possible
================================================================================
